#!/bin/bash

if [ -e virt ]; then
    echo "Directory 'virt' already exists.  Remove it before running this script"
    exit 1
fi

# make dir to hold virtual environment
mkdir virt
# python3 native venv
python3 -m venv virt
# activate virtual environment
if [ -e "virt/bin/activate" ]; then
    source virt/bin/activate
elif [ -e "virt/Scripts/activate" ]; then
    source virt/Scripts/activate
else
    echo "No virt/bin/activate or virt/Scripts/activate found. Exiting"
    exit 1
fi

# install required python packages into virtual environment
# use python3 -m pip instead of pip3, because only thing that works on
#   stupid Windows
python3 -m pip install -r requirements.txt
